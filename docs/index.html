

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ooniprobe: a network interference detection tool &mdash; OONI: Open Observatory of Network Interference 2.3.0-rc.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="OONI: Open Observatory of Network Interference 2.3.0-rc.1 documentation" href="#"/>
        <link rel="next" title="Tutorial" href="tutorial.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="#" class="icon icon-home"> OONI: Open Observatory of Network Interference
          

          
          </a>

          
            
            
              <div class="version">
                2.3.0-rc.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="writing_tests.html">Writing OONI tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="writing_test_helpers.html">Writing Test Helpers</a></li>
<li class="toctree-l1"><a class="reference internal" href="reports.html">Reports</a></li>
<li class="toctree-l1"><a class="reference internal" href="reports.html#report-format-version-changelog">Report format version changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="nettests/modules.html">Implemented NetTests</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/ooni.html">Measurement Developer API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/ooni.templates.html">Test Templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">OONI: Open Observatory of Network Interference</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#">Docs</a> &raquo;</li>
        
      <li>ooniprobe: a network interference detection tool</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="ooniprobe-a-network-interference-detection-tool">
<h1>ooniprobe: a network interference detection tool<a class="headerlink" href="#ooniprobe-a-network-interference-detection-tool" title="Permalink to this headline">¶</a></h1>
<a class="reference external image-reference" href="https://travis-ci.org/TheTorProject/ooni-probe"><img alt="https://travis-ci.org/TheTorProject/ooni-probe.png?branch=master" src="https://travis-ci.org/TheTorProject/ooni-probe.png?branch=master" /></a>
<a class="reference external image-reference" href="https://coveralls.io/r/TheTorProject/ooni-probe"><img alt="https://coveralls.io/repos/TheTorProject/ooni-probe/badge.png" src="https://coveralls.io/repos/TheTorProject/ooni-probe/badge.png" /></a>
<a class="reference external image-reference" href="https://slack.openobservatory.org/badge.svg"><img alt="https://slack.openobservatory.org/badge.svg" src="https://slack.openobservatory.org/badge.svg" /></a>
<hr class="docutils" />
<a class="reference external image-reference" href="https:://ooni.torproject.org/"><img alt="https://ooni.torproject.org/images/ooni-header-mascot.png" src="https://ooni.torproject.org/images/ooni-header-mascot.png" /></a>
<p>OONI, the Open Observatory of Network Interference, is a global observation
network which aims is to collect high quality data using open methodologies,
using Free and Open Source Software (FL/OSS) to share observations and data
about the various types, methods, and amounts of network tampering in the
world.</p>
<blockquote>
<div><dl class="docutils">
<dt>“The Net interprets censorship as damage and routes around it.”</dt>
<dd><ul class="first last simple">
<li>John Gilmore; TIME magazine (6 December 1993)</li>
</ul>
</dd>
</dl>
</div></blockquote>
<p>ooniprobe is the first program that users run to probe their network and to
collect data for the OONI project. Are you interested in testing your network
for signs of surveillance and censorship? Do you want to collect data to share
with others, so that you and others may better understand your network? If so,
please read this document and we hope ooniprobe will help you to gather
network data that will assist you with your endeavors!</p>
<div class="section" id="read-this-before-running-ooniprobe">
<h2>Read this before running ooniprobe!<a class="headerlink" href="#read-this-before-running-ooniprobe" title="Permalink to this headline">¶</a></h2>
<p>Running ooniprobe is a potentially risky activity. This greatly depends on the
jurisdiction in which you are in and which test you are running. It is
technically possible for a person observing your internet connection to be
aware of the fact that you are running ooniprobe. This means that if running
network measurement tests is something considered to be illegal in your country
then you could be spotted.</p>
<p>Furthermore, ooniprobe takes no precautions to protect the install target machine
from forensics analysis.  If the fact that you have installed or used ooni
probe is a liability for you, please be aware of this risk.</p>
</div>
</div>
<div class="section" id="ooni-in-5-minutes">
<h1>OONI in 5 minutes<a class="headerlink" href="#ooni-in-5-minutes" title="Permalink to this headline">¶</a></h1>
<p>The latest ooniprobe version for Debian and Ubuntu releases can be found in the
deb.torproject.org package repository.</p>
<p>On Debian stable (jessie):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">gpg</span> <span class="o">--</span><span class="n">keyserver</span> <span class="n">keys</span><span class="o">.</span><span class="n">gnupg</span><span class="o">.</span><span class="n">net</span> <span class="o">--</span><span class="n">recv</span> <span class="n">A3C4F0F979CAA22CDBA8F512EE8CBC9E886DDD89</span>
<span class="n">gpg</span> <span class="o">--</span><span class="n">export</span> <span class="n">A3C4F0F979CAA22CDBA8F512EE8CBC9E886DDD89</span> <span class="o">|</span> <span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">key</span> <span class="n">add</span> <span class="o">-</span>
<span class="n">echo</span> <span class="s1">&#39;deb http://deb.torproject.org/torproject.org jessie main&#39;</span> <span class="o">|</span> <span class="n">sudo</span> <span class="n">tee</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">apt</span><span class="o">/</span><span class="n">sources</span><span class="o">.</span><span class="n">list</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">ooniprobe</span><span class="o">.</span><span class="n">list</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">update</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">ooniprobe</span> <span class="n">deb</span><span class="o">.</span><span class="n">torproject</span><span class="o">.</span><span class="n">org</span><span class="o">-</span><span class="n">keyring</span>
</pre></div>
</div>
<p>On Debian testing:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">gpg</span> <span class="o">--</span><span class="n">keyserver</span> <span class="n">keys</span><span class="o">.</span><span class="n">gnupg</span><span class="o">.</span><span class="n">net</span> <span class="o">--</span><span class="n">recv</span> <span class="n">A3C4F0F979CAA22CDBA8F512EE8CBC9E886DDD89</span>
<span class="n">gpg</span> <span class="o">--</span><span class="n">export</span> <span class="n">A3C4F0F979CAA22CDBA8F512EE8CBC9E886DDD89</span> <span class="o">|</span> <span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">key</span> <span class="n">add</span> <span class="o">-</span>
<span class="n">echo</span> <span class="s1">&#39;deb http://deb.torproject.org/torproject.org testing main&#39;</span> <span class="o">|</span> <span class="n">sudo</span> <span class="n">tee</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">apt</span><span class="o">/</span><span class="n">sources</span><span class="o">.</span><span class="n">list</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">ooniprobe</span><span class="o">.</span><span class="n">list</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">update</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">ooniprobe</span> <span class="n">deb</span><span class="o">.</span><span class="n">torproject</span><span class="o">.</span><span class="n">org</span><span class="o">-</span><span class="n">keyring</span>
</pre></div>
</div>
<p>On Debian unstable:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">gpg</span> <span class="o">--</span><span class="n">keyserver</span> <span class="n">keys</span><span class="o">.</span><span class="n">gnupg</span><span class="o">.</span><span class="n">net</span> <span class="o">--</span><span class="n">recv</span> <span class="n">A3C4F0F979CAA22CDBA8F512EE8CBC9E886DDD89</span>
<span class="n">gpg</span> <span class="o">--</span><span class="n">export</span> <span class="n">A3C4F0F979CAA22CDBA8F512EE8CBC9E886DDD89</span> <span class="o">|</span> <span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">key</span> <span class="n">add</span> <span class="o">-</span>
<span class="n">echo</span> <span class="s1">&#39;deb http://deb.torproject.org/torproject.org unstable main&#39;</span> <span class="o">|</span> <span class="n">sudo</span> <span class="n">tee</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">apt</span><span class="o">/</span><span class="n">sources</span><span class="o">.</span><span class="n">list</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">ooniprobe</span><span class="o">.</span><span class="n">list</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">update</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">ooniprobe</span> <span class="n">deb</span><span class="o">.</span><span class="n">torproject</span><span class="o">.</span><span class="n">org</span><span class="o">-</span><span class="n">keyring</span>
</pre></div>
</div>
<p>On Ubuntu 16.10 (yakkety), 16.04 (xenial) or 14.04 (trusty):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">gpg</span> <span class="o">--</span><span class="n">keyserver</span> <span class="n">keys</span><span class="o">.</span><span class="n">gnupg</span><span class="o">.</span><span class="n">net</span> <span class="o">--</span><span class="n">recv</span> <span class="n">A3C4F0F979CAA22CDBA8F512EE8CBC9E886DDD89</span>
<span class="n">gpg</span> <span class="o">--</span><span class="n">export</span> <span class="n">A3C4F0F979CAA22CDBA8F512EE8CBC9E886DDD89</span> <span class="o">|</span> <span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">key</span> <span class="n">add</span> <span class="o">-</span>
<span class="n">echo</span> <span class="s1">&#39;deb http://deb.torproject.org/torproject.org $RELEASE main&#39;</span> <span class="o">|</span> <span class="n">sudo</span> <span class="n">tee</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">apt</span><span class="o">/</span><span class="n">sources</span><span class="o">.</span><span class="n">list</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">ooniprobe</span><span class="o">.</span><span class="n">list</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">update</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">ooniprobe</span> <span class="n">deb</span><span class="o">.</span><span class="n">torproject</span><span class="o">.</span><span class="n">org</span><span class="o">-</span><span class="n">keyring</span>
</pre></div>
</div>
<p>Note: You’ll need to swap out <code class="docutils literal"><span class="pre">$RELEASE</span></code> for either <code class="docutils literal"><span class="pre">yakkety</span></code>, <code class="docutils literal"><span class="pre">xenial</span></code> or
<code class="docutils literal"><span class="pre">trusty</span></code>. This will not happen automatically. You will also need to ensure
that you have the <code class="docutils literal"><span class="pre">universe</span></code> repository enabled. The <code class="docutils literal"><span class="pre">universe</span></code> repository
is enabled by default in a standard Ubuntu installation but may not be on some
minimal, or not standard, installations.</p>
</div>
<div class="section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="macos">
<h2>macOS<a class="headerlink" href="#macos" title="Permalink to this headline">¶</a></h2>
<p>You can install ooniprobe on macOS if you have installed homebrew (<a class="reference external" href="http://brew.sh/">http://brew.sh/</a>) with:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">brew</span> <span class="n">install</span> <span class="n">ooniprobe</span>
</pre></div>
</div>
</div>
<div class="section" id="unix-systems-with-pip">
<h2>Unix systems (with pip)<a class="headerlink" href="#unix-systems-with-pip" title="Permalink to this headline">¶</a></h2>
<p>Make sure you have installed the following dependencies:</p>
<blockquote>
<div><ul class="simple">
<li>build-essential</li>
<li>python (&gt;=2.7)</li>
<li>python-dev</li>
<li>pip</li>
<li>libgeoip-dev</li>
<li>libdumbnet-dev</li>
<li>libpcap-dev</li>
<li>libssl-dev</li>
<li>libffi-dev</li>
<li>tor (&gt;=0.2.5.1 to run all the tor related tests)</li>
</ul>
</div></blockquote>
<p>Optional dependencies:</p>
<blockquote>
<div><ul class="simple">
<li>obfs4proxy</li>
</ul>
</div></blockquote>
<p>On debian based systems this can generally be done by running:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="o">-</span><span class="n">y</span> <span class="n">build</span><span class="o">-</span><span class="n">essential</span> <span class="n">libdumbnet</span><span class="o">-</span><span class="n">dev</span> <span class="n">libpcap</span><span class="o">-</span><span class="n">dev</span> <span class="n">libgeoip</span><span class="o">-</span><span class="n">dev</span> <span class="n">libffi</span><span class="o">-</span><span class="n">dev</span> <span class="n">python</span><span class="o">-</span><span class="n">dev</span> <span class="n">python</span><span class="o">-</span><span class="n">pip</span> <span class="n">tor</span> <span class="n">libssl</span><span class="o">-</span><span class="n">dev</span> <span class="n">obfs4proxy</span>
</pre></div>
</div>
<p>Then you should be able to install ooniprobe by running:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">pip</span> <span class="n">install</span> <span class="n">ooniprobe</span>
</pre></div>
</div>
<p>or install ooniprobe as a user:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">ooniprobe</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="using-ooniprobe">
<h1>Using ooniprobe<a class="headerlink" href="#using-ooniprobe" title="Permalink to this headline">¶</a></h1>
<p><strong>Net test</strong> is a set of measurements to assess what kind of internet censorship is occurring.</p>
<p><strong>Decks</strong> are collections of ooniprobe nettests with some associated inputs.</p>
<p><strong>Collector</strong> is a service used to report the results of measurements.</p>
<p><strong>Test helper</strong> is a service used by a probe for successfully performing its measurements.</p>
<p><strong>Bouncer</strong> is a service used to discover the addresses of test helpers and collectors.</p>
<div class="section" id="configuring-ooniprobe">
<h2>Configuring ooniprobe<a class="headerlink" href="#configuring-ooniprobe" title="Permalink to this headline">¶</a></h2>
<p>After successfully installing ooniprobe you should be able to access the web UI
on your host machine at &lt;<a class="reference external" href="http://localhost:8842/">http://localhost:8842/</a>&gt; after running:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ooniprobe</span> <span class="o">-</span><span class="n">w</span>
</pre></div>
</div>
<p>or starting the daemon.</p>
<p>You should now be presented with the web UI setup wizard where you can read the
risks involved with running ooniprobe. Upon answering the quiz correctly you can
enable or disable ooniprobe tests, set how you can connect to the measurement’s
collector and finally configure your privacy settings.</p>
<p>By default ooniprobe will not include personal identifying information in the
test results, nor create a pcap file. This behavior can be personalized.</p>
</div>
<div class="section" id="run-ooniprobe-as-a-service-systemd">
<h2>Run ooniprobe as a service (systemd)<a class="headerlink" href="#run-ooniprobe-as-a-service-systemd" title="Permalink to this headline">¶</a></h2>
<p>Upon ooniprobe version 2.0.0 there is no need for cronjobs as ooniprobe-agent is
responsible for the tasks scheduling.</p>
<p>You can ensure that ooniprobe-agent is always running by installing and enabling
the systemd unit <cite>ooniprobe.service</cite>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">wget</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">raw</span><span class="o">.</span><span class="n">githubusercontent</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">TheTorProject</span><span class="o">/</span><span class="n">ooni</span><span class="o">-</span><span class="n">probe</span><span class="o">/</span><span class="n">master</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">systemd</span><span class="o">/</span><span class="n">ooniprobe</span><span class="o">.</span><span class="n">service</span> <span class="o">--</span><span class="n">directory</span><span class="o">-</span><span class="n">prefix</span><span class="o">=/</span><span class="n">etc</span><span class="o">/</span><span class="n">systemd</span><span class="o">/</span><span class="n">system</span>
<span class="n">systemctl</span> <span class="n">enable</span> <span class="n">ooniprobe</span>
<span class="n">systemctl</span> <span class="n">start</span> <span class="n">ooniprobe</span>
</pre></div>
</div>
<p>You should be able to see a similar output if ooniprobe (systemd) service is
active and loaded by running <cite>systemctl status ooniprobe</cite>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>● ooniprobe.service - ooniprobe.service, network interference detection tool
   Loaded: loaded (/etc/systemd/system/ooniprobe.service; enabled)
   Active: active (running) since Thu 2016-10-20 09:17:42 UTC; 16s ago
   Process: 311 ExecStart=/usr/local/bin/ooniprobe-agent start (code=exited, status=0/SUCCESS)
   Main PID: 390 (ooniprobe-agent)
   CGroup: /system.slice/ooniprobe.service
           └─390 /usr/bin/python /usr/local/bin/ooniprobe-agent start
</pre></div>
</div>
</div>
</div>
<div class="section" id="setting-capabilities-on-your-virtualenv-python-binary">
<h1>Setting capabilities on your virtualenv python binary<a class="headerlink" href="#setting-capabilities-on-your-virtualenv-python-binary" title="Permalink to this headline">¶</a></h1>
<p>If your distribution supports capabilities you can avoid needing to run OONI as root:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">setcap</span> <span class="n">cap_net_admin</span><span class="p">,</span><span class="n">cap_net_raw</span><span class="o">+</span><span class="n">eip</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">your</span><span class="o">/</span><span class="n">virtualenv</span><span class="s1">&#39;s/python2</span>
</pre></div>
</div>
</div>
<div class="section" id="reporting-bugs">
<h1>Reporting bugs<a class="headerlink" href="#reporting-bugs" title="Permalink to this headline">¶</a></h1>
<p>You can report bugs and issues you find with ooni-probe on The Tor Project issue
tracker filing them under the “Ooni” component: <a class="reference external" href="https://trac.torproject.org/projects/tor/newticket?component=Ooni">https://trac.torproject.org/projects/tor/newticket?component=Ooni</a>.</p>
<p>You can either register an account or use the group account “cypherpunks” with
password “writecode”.</p>
</div>
<div class="section" id="contributing">
<h1>Contributing<a class="headerlink" href="#contributing" title="Permalink to this headline">¶</a></h1>
<p>You can download the code for ooniprobe from the following git repository:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">TheTorProject</span><span class="o">/</span><span class="n">ooni</span><span class="o">-</span><span class="n">probe</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
<p>You should then submit patches for review as pull requests to this github repository:</p>
<p><a class="reference external" href="https://github.com/TheTorProject/ooni-probe">https://github.com/TheTorProject/ooni-probe</a></p>
<p>Read this article to learn how to create a pull request on github (<a class="reference external" href="https://help.github.com/articles/creating-a-pull-request">https://help.github.com/articles/creating-a-pull-request</a>).</p>
<p>If you prefer not to use github (or don’t have an account), you may also submit
patches as attachments to tickets.</p>
<p>Be sure to format the patch (given that you are working on a feature branch
that is different from master) with:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="nb">format</span><span class="o">-</span><span class="n">patch</span> <span class="n">master</span> <span class="o">--</span><span class="n">stdout</span> <span class="o">&gt;</span> <span class="n">my_first_ooniprobe</span><span class="o">.</span><span class="n">patch</span>
</pre></div>
</div>
<div class="section" id="setting-up-development-environment">
<h2>Setting up development environment<a class="headerlink" href="#setting-up-development-environment" title="Permalink to this headline">¶</a></h2>
<p>On Debian based systems a development environment can be setup as follows: (prerequisites include build essentials, python-dev, and tor; for tor see <a class="reference external" href="https://www.torproject.org/docs/debian.html.en">https://www.torproject.org/docs/debian.html.en</a>):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">python</span><span class="o">-</span><span class="n">pip</span> <span class="n">python</span><span class="o">-</span><span class="n">virtualenv</span> <span class="n">virtualenv</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">libgeoip</span><span class="o">-</span><span class="n">dev</span> <span class="n">libffi</span><span class="o">-</span><span class="n">dev</span> <span class="n">libdumbnet</span><span class="o">-</span><span class="n">dev</span> <span class="n">libssl</span><span class="o">-</span><span class="n">dev</span> <span class="n">libpcap</span><span class="o">-</span><span class="n">dev</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">TheTorProject</span><span class="o">/</span><span class="n">ooni</span><span class="o">-</span><span class="n">probe</span>
<span class="n">cd</span> <span class="n">ooni</span><span class="o">-</span><span class="n">probe</span>
<span class="n">virtualenv</span> <span class="n">venv</span>
</pre></div>
</div>
<p><cite>virtualenv venv</cite> will create a folder in the current directory which will
contain the Python executable files, and a copy of the pip library which you can
use to install other packages. To begin using the virtual environment, it needs
to be activated:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">source</span> <span class="n">venv</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">activate</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">r</span> <span class="n">requirements</span><span class="o">.</span><span class="n">txt</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">r</span> <span class="n">requirements</span><span class="o">-</span><span class="n">dev</span><span class="o">.</span><span class="n">txt</span>
<span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">install</span>
</pre></div>
</div>
<p>Then, you can check whether the installation went well with:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ooniprobe</span> <span class="o">-</span><span class="n">s</span>
</pre></div>
</div>
<p>This will explain you the risks of running ooniprobe and make sure you have
understood them, afterwards it shows you the available tests.</p>
<p>To run the ooniprobe agent, instead, type:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ooniprobe</span><span class="o">-</span><span class="n">agent</span> <span class="n">run</span>
</pre></div>
</div>
<p>To execute the unit tests for ooniprobe, type:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>coverage run $(which trial) ooni
</pre></div>
</div>
</div>
<div class="section" id="donate">
<h2>Donate<a class="headerlink" href="#donate" title="Permalink to this headline">¶</a></h2>
<p>Send bitcoins to</p>
<a class="reference external image-reference" href="http://www.coindesk.com/information/how-can-i-buy-bitcoins/"><img alt="http://i.imgur.com/CIWHb5R.png" src="http://i.imgur.com/CIWHb5R.png" /></a>
<p>1Ai9d4dhDBjxYVkKKf1pFXptEGfM1vxFBf</p>
</div>
<div class="section" id="more-developer-documentation">
<h2>More developer documentation<a class="headerlink" href="#more-developer-documentation" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#writing-a-tcp-port-scanner">Writing a TCP port scanner</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#creating-test">Creating test</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#setup">Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#inputs">Inputs</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#writing-tests">Writing Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#runninng-tests">Runninng Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#reports">Reports</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="writing_tests.html">Writing OONI tests</a><ul>
<li class="toctree-l2"><a class="reference internal" href="writing_tests.html#test-cases">Test Cases</a></li>
<li class="toctree-l2"><a class="reference internal" href="writing_tests.html#inputs">Inputs</a></li>
<li class="toctree-l2"><a class="reference internal" href="writing_tests.html#setup-and-command-line-passing">Setup and command line passing</a></li>
<li class="toctree-l2"><a class="reference internal" href="writing_tests.html#test-methods">Test Methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="writing_tests.html#test-templates">Test Templates</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="writing_test_helpers.html">Writing Test Helpers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="writing_test_helpers.html#writing-a-censorship-directionality-test-helper">Writing a Censorship Directionality Test Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="writing_test_helpers.html#creating-the-test-helper">Creating the test helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="writing_test_helpers.html#adding-the-helper-to-the-config-file">Adding the helper to the config file</a></li>
<li class="toctree-l2"><a class="reference internal" href="writing_test_helpers.html#adding-the-helper-to-the-backend">Adding the helper to the backend</a></li>
<li class="toctree-l2"><a class="reference internal" href="writing_test_helpers.html#requiring-the-helper-in-a-test">Requiring the helper in a test</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="reports.html">Reports</a></li>
<li class="toctree-l1"><a class="reference internal" href="reports.html#report-format-version-changelog">Report format version changelog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="reports.html#version-0-1">version 0.1</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="nettests/modules.html">Implemented NetTests</a><ul>
<li class="toctree-l2"><a class="reference internal" href="nettests/ooni.nettests.blocking.html">ooni.nettests blocking Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="nettests/ooni.nettests.examples.html">ooni.nettests examples Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="nettests/ooni.nettests.experimental.html">ooni.nettests experimental Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="nettests/ooni.nettests.manipulation.html">ooni.nettests manipulation Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="nettests/ooni.nettests.scanning.html">ooni.nettests scanning Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="nettests/ooni.nettests.third_party.html">ooni.nettests third_party Package</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api/ooni.html">Measurement Developer API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api/ooni.html#module-ooni.nettest"><code class="docutils literal"><span class="pre">nettest</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/ooni.html#module-ooni.settings"><code class="docutils literal"><span class="pre">settings</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/ooni.html#module-ooni.oonicli"><code class="docutils literal"><span class="pre">oonicli</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/ooni.html#module-ooni.reporter"><code class="docutils literal"><span class="pre">reporter</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/ooni.html#subpackages">Subpackages</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api/ooni.templates.html">Test Templates</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api/ooni.templates.html#module-ooni.templates.httpt"><code class="docutils literal"><span class="pre">ooni.templates.httpt</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/ooni.templates.html#module-ooni.templates.scapyt"><code class="docutils literal"><span class="pre">ooni.templates.scapyt</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/ooni.templates.html#module-ooni.templates.dnst"><code class="docutils literal"><span class="pre">ooni.templates.dnst</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/ooni.templates.html#module-ooni.templates.tcpt"><code class="docutils literal"><span class="pre">ooni.templates.tcpt</span></code> Module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">Architecture</a><ul>
<li class="toctree-l2"><a class="reference internal" href="architecture.html#design-goals">Design goals</a></li>
<li class="toctree-l2"><a class="reference internal" href="architecture.html#implementation-details">Implementation details</a></li>
<li class="toctree-l2"><a class="reference internal" href="architecture.html#test-helpers">Test Helpers</a></li>
<li class="toctree-l2"><a class="reference internal" href="architecture.html#measurement-collector">Measurement collector</a></li>
<li class="toctree-l2"><a class="reference internal" href="architecture.html#bouncer-service">Bouncer service</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="tutorial.html" class="btn btn-neutral float-right" title="Tutorial" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, The Tor Project.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'2.3.0-rc.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>